# Change Log

All notable changes to this project will be documented in this file.
See [Conventional Commits](https://conventionalcommits.org) for commit guidelines.

## [5.12.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.12.0...cozy-konnector-libs@5.12.1) (2024-09-17)


### Bug Fixes

* Explicitely use node-fetch 2.7.0 ([443e524](https://github.com/cozy/cozy-konnector-libs/commit/443e52478c4facc0e288f564d2acbc66435abaa2))





# [5.12.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.11.0...cozy-konnector-libs@5.12.0) (2024-07-18)


### Features

* Remove standalone mode from the public doc ([1b3e9e9](https://github.com/cozy/cozy-konnector-libs/commit/1b3e9e9d9902a5527e81aaea40e391479420bd60))





# [5.11.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.10.1...cozy-konnector-libs@5.11.0) (2024-05-23)


### Bug Fixes

* Lint error Assignment to function parameter 'params' ([916f926](https://github.com/cozy/cozy-konnector-libs/commit/916f92632be28de1bcb51c6bd105fe3c513363ca))


### Features

* Allow to use a custom requestInstance in solveCaptcha ([df699bc](https://github.com/cozy/cozy-konnector-libs/commit/df699bc8a4831ebcf41275952eea8f6db3b646d3))





## [5.10.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.10.0...cozy-konnector-libs@5.10.1) (2024-03-20)


### Bug Fixes

* All disk quota error message to konnector status ([c87ff74](https://github.com/cozy/cozy-konnector-libs/commit/c87ff74dbf1acd6696fd9f40b6f96531b43c30cf))





# [5.10.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.9.1...cozy-konnector-libs@5.10.0) (2024-03-19)


### Features

* Add contract option to saveFiles ([f695ff0](https://github.com/cozy/cozy-konnector-libs/commit/f695ff068fae1460c6d509dad4758772ffd8454e))
* Upgrade eslint, babel and cozy dependencies ([48031fc](https://github.com/cozy/cozy-konnector-libs/commit/48031fcc44e14d989aa45694b4f215fb9ecb5eda))





## [5.9.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.9.0...cozy-konnector-libs@5.9.1) (2024-03-06)

**Note:** Version bump only for package cozy-konnector-libs





# [5.9.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.8.0...cozy-konnector-libs@5.9.0) (2024-02-16)


### Features

* **cozy-konnector-libs:** Add more verbose option for saveFiles results ([23dc2d7](https://github.com/cozy/cozy-konnector-libs/commit/23dc2d78f38248a7fb62474cc0d6e10e294181cd))





# [5.8.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.7.0...cozy-konnector-libs@5.8.0) (2024-02-08)


### Bug Fixes

* **cozy-konnector-libs:** Fix cert tests for dual node build ([8c23639](https://github.com/cozy/cozy-konnector-libs/commit/8c236397916f593cab07533863975af010870d83))
* **cozy-konnector-libs:** Reactivating test about certs ([0c800c7](https://github.com/cozy/cozy-konnector-libs/commit/0c800c7d8f8aeefcc2dd89b12c3842d025b238b2))
* **cozy-konnectors-libs:** Fix certs test in node 20 ([9cc47da](https://github.com/cozy/cozy-konnector-libs/commit/9cc47da10e885c3539df6ba44279b6cfb38e4da4))
* Remove eslint-plugin-jsdoc because node 16 incompatibility ([4bfadae](https://github.com/cozy/cozy-konnector-libs/commit/4bfadae93f67a81f91ccb54e9f5795114cf246a2))


### Features

* Migrate travis to node 20.10.0 in monorepo root ([4b4b129](https://github.com/cozy/cozy-konnector-libs/commit/4b4b12982fed0e8d8ede9df1766bf4804c0e01b4))





# [5.7.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.6.2...cozy-konnector-libs@5.7.0) (2024-01-29)


### Features

* Add partial sync error ([62f9d9b](https://github.com/cozy/cozy-konnector-libs/commit/62f9d9bd05b278c16923c9d47bd97fd1dadbecef))





## [5.6.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.6.1...cozy-konnector-libs@5.6.2) (2024-01-24)


### Bug Fixes

* Fix qualification compare ([9ba734d](https://github.com/cozy/cozy-konnector-libs/commit/9ba734d5dac1b8cce50cef375c421911fd37207f))





## [5.6.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.6.0...cozy-konnector-libs@5.6.1) (2024-01-22)


### Bug Fixes

* Fix force qualification update ([bdcf406](https://github.com/cozy/cozy-konnector-libs/commit/bdcf40682901ec9eb6c2135996dc17662feb9a84))





# [5.6.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.5.2...cozy-konnector-libs@5.6.0) (2024-01-03)


### Bug Fixes

* Remove "fit" ([e738575](https://github.com/cozy/cozy-konnector-libs/commit/e73857520fcd3059cfe4e09ab378667d2e47c82b))


### Features

* Add trim for all properties of the identify ([5ea3922](https://github.com/cozy/cozy-konnector-libs/commit/5ea3922857246656626fc10cc4d60e1e10d1e650))





## [5.5.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.5.1...cozy-konnector-libs@5.5.2) (2024-01-02)


### Bug Fixes

* saveIdentity tries to take care of malformed data ([f0e5b84](https://github.com/cozy/cozy-konnector-libs/commit/f0e5b84845b95696a51cd19a7c9c6ac78fe97807))





## [5.5.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.5.0...cozy-konnector-libs@5.5.1) (2023-12-18)

**Note:** Version bump only for package cozy-konnector-libs





# [5.5.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.4.0...cozy-konnector-libs@5.5.0) (2023-12-14)


### Features

* Update files with qualification if not present ([36bd51a](https://github.com/cozy/cozy-konnector-libs/commit/36bd51a0b872e7ae46886d262eb9e14e90a5a49c))





# [5.4.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.3.1...cozy-konnector-libs@5.4.0) (2023-12-04)


### Features

* **cozy-konnectors-libs:** Migrating saveFiles to cozy-client ([b6684a9](https://github.com/cozy/cozy-konnector-libs/commit/b6684a9a23179349c95e2cd38e6c048ca2402d15))





## [5.3.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.3.0...cozy-konnector-libs@5.3.1) (2023-10-18)


### Bug Fixes

* Add full anticaptcha response possibility ([2de2f5a](https://github.com/cozy/cozy-konnector-libs/commit/2de2f5affb3b182a558ed17a8de79d6e82b2941b))





# 5.3.0 (2023-09-28)


### Features

* Upgrade cozy-client to v44 ([6514e41](https://github.com/cozy/cozy-konnector-libs/commit/6514e41fd6609548ab0221ed183db6727c1f5e3a))





## [5.2.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.2.0...cozy-konnector-libs@5.2.1) (2023-03-16)


### Bug Fixes

* Babel transpilation ([951fcad](https://github.com/cozy/cozy-konnector-libs/commit/951fcad16fa81c75ea826ac2171432e340572647))





# [5.2.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.1.0...cozy-konnector-libs@5.2.0) (2023-03-14)


### Features

* Classifier parameters update ([d1a2987](https://github.com/cozy/cozy-konnector-libs/commit/d1a29876699a9dbab44bcbfb64f0559c8834f807))
* Handle undefined categories ([cdf3112](https://github.com/cozy/cozy-konnector-libs/commit/cdf31124eeb71f41a56abce9a440e0d0f7db922d))
* Pass length directly ([7a4f06e](https://github.com/cozy/cozy-konnector-libs/commit/7a4f06e16dc40979c8065b3c69263dee994a3de1))





# [5.1.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@5.0.0...cozy-konnector-libs@5.1.0) (2023-03-10)


### Features

* Export getClassifierOptions ([9ec1eaf](https://github.com/cozy/cozy-konnector-libs/commit/9ec1eafa461186579e178c3d96df59d522ac998c))





# [5.0.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.56.4...cozy-konnector-libs@5.0.0) (2023-02-15)


### Features

* Upgrade lerna to version 4 ([d8e4aca](https://github.com/cozy/cozy-konnector-libs/commit/d8e4acabf7b62feb6abfaa7df98d39883d3e69ec))


### BREAKING CHANGES

* wording is added in a commit message





## [4.56.4](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.56.3...cozy-konnector-libs@4.56.4) (2022-11-28)


### Bug Fixes

* Typo in warning message ([3a862a3](https://github.com/cozy/cozy-konnector-libs/commit/3a862a3707c3100a95dbfd8d652c324cef028c2e))





## [4.56.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.56.2...cozy-konnector-libs@4.56.3) (2022-11-24)

**Note:** Version bump only for package cozy-konnector-libs





## [4.56.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.56.1...cozy-konnector-libs@4.56.2) (2022-11-03)


### Bug Fixes

* **deps:** pin dependency lerna to v3.22.1 ([b7d2490](https://github.com/cozy/cozy-konnector-libs/commit/b7d24902803908d5f43439e732ed6c8e31147a84))





## [4.56.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.56.0...cozy-konnector-libs@4.56.1) (2022-11-03)


### Bug Fixes

* Do not rely on cwd to read a file payload ([558a07c](https://github.com/cozy/cozy-konnector-libs/commit/558a07c81edf451b5830cce86838449f3b9a9044))





# [4.56.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.55.0...cozy-konnector-libs@4.56.0) (2022-10-19)


### Features

* **cozy-konnector-libs:** Add a non merging saveIdentity with cozy-client ([7041229](https://github.com/cozy/cozy-konnector-libs/commit/7041229ebd98f9f046c89bdcec6371cd5959ec50))





# [4.55.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.54.0...cozy-konnector-libs@4.55.0) (2022-08-04)


### Features

* **cozy-connector-libs:** Remove control character in filename ([eb3287b](https://github.com/cozy/cozy-konnector-libs/commit/eb3287bd066d06ab43dc3f7d3ce6c4acd3bc9831))





# [4.54.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.53.1...cozy-konnector-libs@4.54.0) (2022-07-29)


### Features

* Allow connector to read COZY_PAYLOAD ([4009aae](https://github.com/cozy/cozy-konnector-libs/commit/4009aae1843e78d1c1488ad3c755691dab84566e))
* readPayload return null if no payload ([68bc4fc](https://github.com/cozy/cozy-konnector-libs/commit/68bc4fca11f61a46298652c5ebd16859299855d7))





## [4.53.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.53.0...cozy-konnector-libs@4.53.1) (2022-06-06)


### Bug Fixes

* **deps:** update babel monorepo to v7.17.10 ([f7170ce](https://github.com/cozy/cozy-konnector-libs/commit/f7170ce425d8f456f044340edb765b7e39c82148))





# [4.53.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.52.1...cozy-konnector-libs@4.53.0) (2022-06-03)


### Bug Fixes

* Add default value to createCategorizer ([5f5e852](https://github.com/cozy/cozy-konnector-libs/commit/5f5e8522a9bf698401b945a511205a966af78774))


### Features

* Also add cozy-flags which is needed by cozy-client + other fixes ([53b2064](https://github.com/cozy/cozy-konnector-libs/commit/53b2064a912db0c3985437013ae3f40d1989d70a))
* Upgrade Cozy-Client & Cozy-Device-Helper ([85e4afb](https://github.com/cozy/cozy-konnector-libs/commit/85e4afb354bc95e5a981eaf8f1e407e24f1ae03e))





## [4.52.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.52.0...cozy-konnector-libs@4.52.1) (2022-03-30)

**Note:** Version bump only for package cozy-konnector-libs





# [4.52.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.51.0...cozy-konnector-libs@4.52.0) (2022-03-24)


### Bug Fixes

* Init cozy-client-js instance from stack env ([92f7c61](https://github.com/cozy/cozy-konnector-libs/commit/92f7c615796a30ce4ccb9bcf82a2f99bc7a7df3b))
* lint ([07d63ee](https://github.com/cozy/cozy-konnector-libs/commit/07d63ee54a15717b5f918dbfd47133e789a9140e))
* Return CozyClientJS ([20a51a5](https://github.com/cozy/cozy-konnector-libs/commit/20a51a55c796b04865b8ca17491d9be4e6861dee))
* Use the right mimeTypes function for content type ([bcb3617](https://github.com/cozy/cozy-konnector-libs/commit/bcb3617efb79b474ac56a66d686fea2a746727ca))


### Features

* Upgrade cozy-client in konnector-libs ([8ee5356](https://github.com/cozy/cozy-konnector-libs/commit/8ee53567cbb041f53654c3d16a6b99a799175945))





# [4.51.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.50.2...cozy-konnector-libs@4.51.0) (2022-02-16)


### Bug Fixes

* Optional global model ([8a38a72](https://github.com/cozy/cozy-konnector-libs/commit/8a38a724fc5b3d1b99e48772b1f4ee55cce3c25a))


### Features

* Create categorizer options ([dc71889](https://github.com/cozy/cozy-konnector-libs/commit/dc7188981982c0d9028922d2423528a1d1cf222f))
* Using pretrained classifier ([4487ef4](https://github.com/cozy/cozy-konnector-libs/commit/4487ef42e7860127a5739f4296567281440806c1))





## [4.50.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.50.1...cozy-konnector-libs@4.50.2) (2022-02-15)


### Bug Fixes

* Add missing dependencies after eslint cozy dependency upgrade ([e3bd539](https://github.com/cozy/cozy-konnector-libs/commit/e3bd539164aab66c3eca448f0b41063c8a1fe1c7))





## [4.50.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.50.0...cozy-konnector-libs@4.50.1) (2022-02-15)

**Note:** Version bump only for package cozy-konnector-libs





# [4.50.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.49.0...cozy-konnector-libs@4.50.0) (2022-02-14)


### Features

* Allow saveIdentity to handle full identtity and not only contacts ([09bbc70](https://github.com/cozy/cozy-konnector-libs/commit/09bbc702c8490a2f7ea0f75dfb35afa7fe1d17bd))





# [4.49.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.48.0...cozy-konnector-libs@4.49.0) (2022-02-14)


### Features

* Upgrade eslint-config-cozy-app ([af30d90](https://github.com/cozy/cozy-konnector-libs/commit/af30d907b1b2dc67379c4c1f0f00849693478ef4))
* Upgrade various cozy dependencies ([4005077](https://github.com/cozy/cozy-konnector-libs/commit/40050778413d1007d5970c048bdb1e11be713a50))





# [4.48.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.46.0...cozy-konnector-libs@4.48.0) (2022-02-14)


### Bug Fixes

* lerna publish ([122d3a6](https://github.com/cozy/cozy-konnector-libs/commit/122d3a651feb549be1bf8eebe5fa357507469120))


### Features

* upgrade babel dependencies ([e387a9f](https://github.com/cozy/cozy-konnector-libs/commit/e387a9f1fdff34b52088992781523f71d9c0e5ea))
* Upgrade pdfjs-dist dependency ([cdcff5f](https://github.com/cozy/cozy-konnector-libs/commit/cdcff5f4fd866602244225d1c72e6328585d771f))





# [4.46.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.45.0...cozy-konnector-libs@4.46.0) (2022-02-07)


### Bug Fixes

* **deps:** update dependency cozy-client-js to ^0.20.0 ([50ac858](https://github.com/cozy/cozy-konnector-libs/commit/50ac858125d0677ffc634954dc11f8f06e807916))
* **deps:** update dependency jest to v27.4.7 ([7f78a31](https://github.com/cozy/cozy-konnector-libs/commit/7f78a317b0634aa82597964d437cff2e3b79f402))
* use our own fork of geco ([82433f4](https://github.com/cozy/cozy-konnector-libs/commit/82433f4d1a7da8826d24444a3b6e56b4cb4f3f2a))


### Features

* (cozy-konnectors-libs)Upgrade cozy-client ([2e86c89](https://github.com/cozy/cozy-konnector-libs/commit/2e86c890696fc71efdcc24755e5af810f6d21228))
* Add all supported error code ([6a9fca7](https://github.com/cozy/cozy-konnector-libs/commit/6a9fca73295fbd30e84ee2e08eb6bcdaf3a677d7))
* Allow file qualification to work in standalone mode ([d89cb3a](https://github.com/cozy/cozy-konnector-libs/commit/d89cb3abbb2a63cdf04fb12cf28672ab452e599c))





# [4.45.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.44.0...cozy-konnector-libs@4.45.0) (2021-11-23)


### Bug Fixes

* Regression in BaseKonnector unit test ([bee4889](https://github.com/cozy/cozy-konnector-libs/commit/bee4889a9c92cdaf2516cfb9826119ccc8ff5fbe))
* Upgrade qualification when metadata already present ([f8cd335](https://github.com/cozy/cozy-konnector-libs/commit/f8cd33594bf18f8ae54e9b218f2398bcf614c3f0))


### Features

* Make peer dependencies optional ([6096bde](https://github.com/cozy/cozy-konnector-libs/commit/6096bde8dcd06a3f593f64f94fcfe6501d9c5839))





# [4.44.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.43.0...cozy-konnector-libs@4.44.0) (2021-11-10)


### Bug Fixes

* Do not query account when no id is given ([080c3d3](https://github.com/cozy/cozy-konnector-libs/commit/080c3d3beb90d515c279384918dce5c7c6400901))
* Use cozy-client method to query operations with manual category ([bf5bc1e](https://github.com/cozy/cozy-konnector-libs/commit/bf5bc1ebce6fda1fdb12b909b27e59fb5a010f36))


### Features

* Export log for tree-shaking ([a4e2ec8](https://github.com/cozy/cozy-konnector-libs/commit/a4e2ec804f41ba419394a6c48aabd5f85247d0c7))





# [4.43.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.42.3...cozy-konnector-libs@4.43.0) (2021-11-02)


### Features

* Upgrate cozy-client to benefit from saveAll ([c6336de](https://github.com/cozy/cozy-konnector-libs/commit/c6336de20ded4e3cc896eb013129b6377abc9cee))





## [4.42.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.42.2...cozy-konnector-libs@4.42.3) (2021-10-22)


### Bug Fixes

* Generating docs again to fix the build ([08682b1](https://github.com/cozy/cozy-konnector-libs/commit/08682b114e455dd46f2d5b958834e6d4bd49d087))





## [4.42.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.42.0...cozy-konnector-libs@4.42.2) (2021-07-16)


### Bug Fixes

* downgrade lerna to 3 since i cannot publish with 4 ([79bb286](https://github.com/cozy/cozy-konnector-libs/commit/79bb286715e82a7ccf9fe54bc087bb304494c282))
* lint ([9c166b5](https://github.com/cozy/cozy-konnector-libs/commit/9c166b5ea3b4cddad553bf067c9a45994d71bf55))
* use es5 build of pdfjs ([3b92323](https://github.com/cozy/cozy-konnector-libs/commit/3b92323d326fca66fc2f1717be2f0b18f6715111))





## [4.42.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.42.0...cozy-konnector-libs@4.42.1) (2021-06-02)


### Bug Fixes

* lint ([9c166b5](https://github.com/cozy/cozy-konnector-libs/commit/9c166b5ea3b4cddad553bf067c9a45994d71bf55))
* use es5 build of pdfjs ([3b92323](https://github.com/cozy/cozy-konnector-libs/commit/3b92323d326fca66fc2f1717be2f0b18f6715111))





# [4.42.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.41.1-beta.0...cozy-konnector-libs@4.42.0) (2021-03-09)

**Note:** Version bump only for package cozy-konnector-libs





## [4.41.1-beta.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.41.0...cozy-konnector-libs@4.41.1-beta.0) (2021-03-09)

**Note:** Version bump only for package cozy-konnector-libs





# [4.41.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.40.1...cozy-konnector-libs@4.41.0) (2021-03-04)


### Bug Fixes

* update setTwoFAState docstring ([191bbce](https://github.com/cozy/cozy-konnector-libs/commit/191bbce2e017067abba74166f78dfd462b6a1d7b))


### Features

* Export cozy-client models ([e6a6dd2](https://github.com/cozy/cozy-konnector-libs/commit/e6a6dd2c5036108a20f4293db0ea007acf52a023))
* Upgrade cozy-client to get timeseries models ([5359ff0](https://github.com/cozy/cozy-konnector-libs/commit/5359ff02bb4a48a1be411d0bdb7f484261d2a081))





## [4.40.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.40.0...cozy-konnector-libs@4.40.1) (2021-02-09)

**Note:** Version bump only for package cozy-konnector-libs





# [4.40.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.39.1...cozy-konnector-libs@4.40.0) (2021-02-09)


### Features

* **saveFiles:** replace files which do not have categories metadata ([1541872](https://github.com/cozy/cozy-konnector-libs/commit/15418729295aa0f9cce3f1572ed34435d08a7ecd))
* Add new 2FA type (app_code) ([7f9b478](https://github.com/cozy/cozy-konnector-libs/commit/7f9b4784a33735e530b451048026893000c4cb09))





## [4.39.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.39.0...cozy-konnector-libs@4.39.1) (2021-01-18)

**Note:** Version bump only for package cozy-konnector-libs





# [4.39.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.2...cozy-konnector-libs@4.39.0) (2021-01-15)


### Features

* Randomly assign user agent in request factory ([53a66c2](https://github.com/cozy/cozy-konnector-libs/commit/53a66c23b7b014e11b2b159036fa922088eb3715))





## [4.38.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.1...cozy-konnector-libs@4.38.2) (2021-01-05)


### Bug Fixes

* include fetch in dev mode ([a158fec](https://github.com/cozy/cozy-konnector-libs/commit/a158fec51ba891fccc1d410315c699a66d5047fd))





## [4.38.2-beta.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.1...cozy-konnector-libs@4.38.2-beta.2) (2021-01-04)


### Bug Fixes

* include fetch before cozy-client-js ([b21ffd1](https://github.com/cozy/cozy-konnector-libs/commit/b21ffd101015127c5e990641922cc1b73fab7553))





## [4.38.2-beta.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.1...cozy-konnector-libs@4.38.2-beta.1) (2021-01-04)


### Bug Fixes

* include fetch before cozy-client-js ([b21ffd1](https://github.com/cozy/cozy-konnector-libs/commit/b21ffd101015127c5e990641922cc1b73fab7553))





## [4.38.2-beta.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.1...cozy-konnector-libs@4.38.2-beta.0) (2021-01-04)


### Bug Fixes

* include fetch before cozy-client-js ([b21ffd1](https://github.com/cozy/cozy-konnector-libs/commit/b21ffd101015127c5e990641922cc1b73fab7553))





## [4.38.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.38.0...cozy-konnector-libs@4.38.1) (2021-01-01)

**Note:** Version bump only for package cozy-konnector-libs





# [4.38.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.37.2...cozy-konnector-libs@4.38.0) (2020-12-17)


### Features

* **saveFiles:** forces file replace when missing carbonCopy or electronicSafe attribute in the existing file ([9edeee2](https://github.com/cozy/cozy-konnector-libs/commit/9edeee2a808c01c7f81cfba47d1ffabd7ac4d500))





## [4.37.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.37.1...cozy-konnector-libs@4.37.2) (2020-12-16)


### Bug Fixes

* env mode recognition ([50ebee4](https://github.com/cozy/cozy-konnector-libs/commit/50ebee494effb1dca6a7dae6d54f18b2ff3d0d5e))





## [4.37.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.37.0...cozy-konnector-libs@4.37.1) (2020-12-01)

**Note:** Version bump only for package cozy-konnector-libs





# [4.37.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.36.0...cozy-konnector-libs@4.37.0) (2020-11-12)


### Bug Fixes

* bad regression in cozy-client with isomorphic-fetch v3.0 ([6ed4e9e](https://github.com/cozy/cozy-konnector-libs/commit/6ed4e9e10d27f5358e488954a74be4c35c5f4097))


### Features

* add cozy-konnector-build package ([2dcc657](https://github.com/cozy/cozy-konnector-libs/commit/2dcc657ed540a8a9e54aa67f91f194906522bd5e))





# [4.36.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.35.0...cozy-konnector-libs@4.36.0) (2020-11-05)


### Bug Fixes

* avoid date-fns error when built with webpack ([112d82b](https://github.com/cozy/cozy-konnector-libs/commit/112d82b3a8acc1bc6c20bddb627e15a97412fc1f))


### Features

* upgrade cozy-client to 16.1.1 for security warnings ([e29c75e](https://github.com/cozy/cozy-konnector-libs/commit/e29c75e8e807bbd029980f3d2afa1184ea48bd0f))
* upgrade cozy-doctypes ([98c569c](https://github.com/cozy/cozy-konnector-libs/commit/98c569c2ed0140c90b841177ef7cb4b8dd04a794))





# [4.35.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.5...cozy-konnector-libs@4.35.0) (2020-10-22)


### Features

* **solveCaptcha:** add hcaptcha solving ([70ea67c](https://github.com/cozy/cozy-konnector-libs/commit/70ea67ce62e927a114c39a0fc5a5a1884a42bb01))





## [4.34.5](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.4...cozy-konnector-libs@4.34.5) (2020-07-16)


### Bug Fixes

* regressions after upgrade of date-fns to version 2 ([c5cc903](https://github.com/cozy/cozy-konnector-libs/commit/c5cc9033366b5889e4fdf9f7ea6ff8415c613351))





## [4.34.4](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.3...cozy-konnector-libs@4.34.4) (2020-05-29)


### Bug Fixes

* **cozy-client-js-stub:** get proper file size for a filestream ([ea08a65](https://github.com/cozy/cozy-konnector-libs/commit/ea08a65ac5e2150c441a4cd79aba1f3ffd1c9042))
* **saveBills:** do not try to clone a filestream ([08eba00](https://github.com/cozy/cozy-konnector-libs/commit/08eba00d52132bc2db6e0927084eb5382c65ba29))
* Do not register client in library ([e8d1d9a](https://github.com/cozy/cozy-konnector-libs/commit/e8d1d9a5002a4305dffb361f3c36a2e97a83e8f7))





## [4.34.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.2...cozy-konnector-libs@4.34.3) (2020-05-14)


### Bug Fixes

* Window issue on fetch ([d7d8ca1](https://github.com/cozy/cozy-konnector-libs/commit/d7d8ca1e6dacda18ec4981b0de085fbc21e845fd))





## [4.34.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.0...cozy-konnector-libs@4.34.2) (2020-04-28)


### Bug Fixes

* cozy-client-js-stub file encoding ([9accd04](https://github.com/cozy/cozy-konnector-libs/commit/9accd0424322787a0fc63cf6459707551a3187d3))





## [4.34.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.34.0...cozy-konnector-libs@4.34.1) (2020-04-28)


### Bug Fixes

* cozy-client-js-stub file encoding ([9accd04](https://github.com/cozy/cozy-konnector-libs/commit/9accd0424322787a0fc63cf6459707551a3187d3))





# [4.34.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.33.0...cozy-konnector-libs@4.34.0) (2020-03-17)


### Bug Fixes

* **request:** allow to override user agent in cheerio mode ([fd0e737](https://github.com/cozy/cozy-konnector-libs/commit/fd0e737a9b591f66fd98396121d26ed95f403e20))


### Features

* now use cozy-client's createClientInteractive ([6d46874](https://github.com/cozy/cozy-konnector-libs/commit/6d46874c62d5c871bb2616314d51ec7d2b09a929))
* use more explicit time notation ([3715afd](https://github.com/cozy/cozy-konnector-libs/commit/3715afd5e4151792b686e809ed788b8732e5f7f8))





# [4.33.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.5...cozy-konnector-libs@4.33.0) (2020-02-20)


### Bug Fixes

* avoid pdfjs warning on bad api usage ([1de4561](https://github.com/cozy/cozy-konnector-libs/commit/1de4561d7b158a6d9a8cc318639ab4cd488f9859))


### Features

* **saveBills:** allow processPdf to associate multiple bills to one file ([1a6a69b](https://github.com/cozy/cozy-konnector-libs/commit/1a6a69b730682e9e32a1b519554c7ed3d83e8b9c))
* **saveFiles:** add the fetchFile option to allow a connector to give it's own file retrieving function which will be run only when needed. ([88bda03](https://github.com/cozy/cozy-konnector-libs/commit/88bda03fc226e7093bccefad5198e61abeb416be))





## [4.32.5](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.4...cozy-konnector-libs@4.32.5) (2020-02-11)


### Bug Fixes

* **saveFiles:** fix validateFileContentOption ([05648aa](https://github.com/cozy/cozy-konnector-libs/commit/05648aafe8cd8234bea3ace1b4f510da9d8205fc))





## [4.32.4](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.3...cozy-konnector-libs@4.32.4) (2020-01-29)

**Note:** Version bump only for package cozy-konnector-libs





## [4.32.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.2...cozy-konnector-libs@4.32.3) (2020-01-29)


### Bug Fixes

* **saveFiles:** allow file renaming to works in standalone mode ([7428900](https://github.com/cozy/cozy-konnector-libs/commit/7428900b9fea5b18ca6a40b9824827f3ebe0ffad))
* do not log a warning when no folder_to_save ([93cbed9](https://github.com/cozy/cozy-konnector-libs/commit/93cbed9517a28aab03aa735b70ac5c0a0b365143))





## [4.32.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.1...cozy-konnector-libs@4.32.2) (2019-12-11)


### Bug Fixes

* allow cozy-client-js stub to work better with file metadata deduplication ([85c4387](https://github.com/cozy/cozy-konnector-libs/commit/85c438719ce687342b5efcb1367694ebda987d3f))
* more cozy-client-js-stub fix about files ([586f707](https://github.com/cozy/cozy-konnector-libs/commit/586f7073e084be2381f1c0848d024e677a8a05be))


### Features

* **BaseKonnector:** add notifySuccessfulLogin option to the signin method ([acce06c](https://github.com/cozy/cozy-konnector-libs/commit/acce06c60c48b9dc85751c5af7a806e5dcac9be1))





## [4.32.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.32.0...cozy-konnector-libs@4.32.1) (2019-12-04)


### Bug Fixes

* allow cozy-client-js-stub to work with file meta ids ([b7bf40a](https://github.com/cozy/cozy-konnector-libs/commit/b7bf40a5d3430d21783eb0be7c7d7bacd7fe7762))


### Features

* **BaseKonnector:** make this._account a secret ([b83cc3c](https://github.com/cozy/cozy-konnector-libs/commit/b83cc3c3d8f97888ee073f2af9d48a125792b8f6))





# [4.32.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.31.0...cozy-konnector-libs@4.32.0) (2019-11-20)


### Features

* **saveBills:** ignore bills for unprocessable pdf ([4763ee9](https://github.com/cozy/cozy-konnector-libs/commit/4763ee9eb4f4f3d35860c5cd6c4e218be155fcf5))





# [4.31.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.30.2...cozy-konnector-libs@4.31.0) (2019-11-12)


### Bug Fixes

* Less verbose BaseKonnector ([39a7ab7](https://github.com/cozy/cozy-konnector-libs/commit/39a7ab7b3f0304b546b84864f36b192b136b7fd3))
* **deps:** update dependency parcel to v1.12.4 ([1f5abdd](https://github.com/cozy/cozy-konnector-libs/commit/1f5abddc06a50bcfdc468db2574fdbfe9f2e895a))
* **deps:** update dependency parcel to v1.12.4 ([#619](https://github.com/cozy/cozy-konnector-libs/issues/619)) ([71036f0](https://github.com/cozy/cozy-konnector-libs/commit/71036f05d65765b1c74e64917ca75d0fa91eaee7))


### Features

* Add contractId and contractLabel for bills ([fee079f](https://github.com/cozy/cozy-konnector-libs/commit/fee079f03d03558492779a355dafabba57a95600))
* Add contractId and contractLabel for bills ([#605](https://github.com/cozy/cozy-konnector-libs/issues/605)) ([bcde9f2](https://github.com/cozy/cozy-konnector-libs/commit/bcde9f2d42a005c7ecdce6dfc44a398a62bebf5d))





## [4.30.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.30.1...cozy-konnector-libs@4.30.2) (2019-10-22)


### Bug Fixes

* Require pdfjs deps inside try/catch ([4f6260c](https://github.com/cozy/cozy-konnector-libs/commit/4f6260c))





## [4.30.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.30.0...cozy-konnector-libs@4.30.1) (2019-10-22)


### Bug Fixes

* Typo in README ([e12361a](https://github.com/cozy/cozy-konnector-libs/commit/e12361a))





# [4.30.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.29.0...cozy-konnector-libs@4.30.0) (2019-10-22)


### Bug Fixes

* Default value for backup dir ([1082551](https://github.com/cozy/cozy-konnector-libs/commit/1082551))
* display only one warning for no metadata deduplication ([41b8fc3](https://github.com/cozy/cozy-konnector-libs/commit/41b8fc3))
* display only one warning for no metadata deduplication ([#603](https://github.com/cozy/cozy-konnector-libs/issues/603)) ([d175977](https://github.com/cozy/cozy-konnector-libs/commit/d175977))


### Features

* More logs in BaseKonnector ([57bd97c](https://github.com/cozy/cozy-konnector-libs/commit/57bd97c))
* Use removeEventListener instead of off ([0052fef](https://github.com/cozy/cozy-konnector-libs/commit/0052fef))
* **saveFiles:** add subPath option ([a779572](https://github.com/cozy/cozy-konnector-libs/commit/a779572))





# [4.29.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.28.2...cozy-konnector-libs@4.29.0) (2019-10-07)


### Bug Fixes

* properly handle headers ([aa78147](https://github.com/cozy/cozy-konnector-libs/commit/aa78147))


### Features

* add zombie browser simulator ([f9da2df](https://github.com/cozy/cozy-konnector-libs/commit/f9da2df))
* make pdfjs dependencies optionnal ([03fb254](https://github.com/cozy/cozy-konnector-libs/commit/03fb254))
* make pdfjs dependencies optionnal ([#598](https://github.com/cozy/cozy-konnector-libs/issues/598)) ([dcedea7](https://github.com/cozy/cozy-konnector-libs/commit/dcedea7))





## [4.28.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.28.1...cozy-konnector-libs@4.28.2) (2019-09-16)

**Note:** Version bump only for package cozy-konnector-libs





## [4.28.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.28.0...cozy-konnector-libs@4.28.1) (2019-09-16)


### Bug Fixes

* keep other metadata when saving a file ([042a7fb](https://github.com/cozy/cozy-konnector-libs/commit/042a7fb))
* remove to many log messages in libs ([3c4e442](https://github.com/cozy/cozy-konnector-libs/commit/3c4e442))
* **deps:** update dependency cozy-logger to v1.6.0 ([#582](https://github.com/cozy/cozy-konnector-libs/issues/582)) ([3f37103](https://github.com/cozy/cozy-konnector-libs/commit/3f37103))
* remove to many log messages in libs ([a1211c5](https://github.com/cozy/cozy-konnector-libs/commit/a1211c5))
* **deps:** update dependency cozy-logger to v1.6.0 ([4ba564b](https://github.com/cozy/cozy-konnector-libs/commit/4ba564b))





# [4.28.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.27.0...cozy-konnector-libs@4.28.0) (2019-09-10)


### Bug Fixes

* cozy-jobs-cli lint config ([f93295d](https://github.com/cozy/cozy-konnector-libs/commit/f93295d))


### Features

* add autologin handling to the signin function ([4a4cd09](https://github.com/cozy/cozy-konnector-libs/commit/4a4cd09))
* add autologin handling to the signin function ([#580](https://github.com/cozy/cozy-konnector-libs/issues/580)) ([24dba41](https://github.com/cozy/cozy-konnector-libs/commit/24dba41))





# [4.27.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.25.0...cozy-konnector-libs@4.27.0) (2019-09-10)


### Bug Fixes

* **cozy-client-js-stub:** handle file metadata ([0b04723](https://github.com/cozy/cozy-konnector-libs/commit/0b04723))
* **cozy-client-js-stub:** handle file metadata ([#578](https://github.com/cozy/cozy-konnector-libs/issues/578)) ([eeef14a](https://github.com/cozy/cozy-konnector-libs/commit/eeef14a))
* Call fail or end when konnector finishes ([59f807b](https://github.com/cozy/cozy-konnector-libs/commit/59f807b))


### Features

* **BaseKonnector/2fa:** change timeout option to endTime ([43514bb](https://github.com/cozy/cozy-konnector-libs/commit/43514bb))
* **BaseKonnector/2fa:** change timeout option to endTime ([#574](https://github.com/cozy/cozy-konnector-libs/issues/574)) ([cbabb3c](https://github.com/cozy/cozy-konnector-libs/commit/cbabb3c))
* Extract fetch from run() so that it can be overrided ([9be5be9](https://github.com/cozy/cozy-konnector-libs/commit/9be5be9))





# [4.26.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.25.0...cozy-konnector-libs@4.26.0) (2019-09-02)


### Bug Fixes

* **cozy-client-js-stub:** handle file metadata ([0b04723](https://github.com/cozy/cozy-konnector-libs/commit/0b04723))
* **cozy-client-js-stub:** handle file metadata ([#578](https://github.com/cozy/cozy-konnector-libs/issues/578)) ([eeef14a](https://github.com/cozy/cozy-konnector-libs/commit/eeef14a))


### Features

* **BaseKonnector/2fa:** change timeout option to endTime ([43514bb](https://github.com/cozy/cozy-konnector-libs/commit/43514bb))
* **BaseKonnector/2fa:** change timeout option to endTime ([#574](https://github.com/cozy/cozy-konnector-libs/issues/574)) ([cbabb3c](https://github.com/cozy/cozy-konnector-libs/commit/cbabb3c))





# [4.25.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.24.2...cozy-konnector-libs@4.25.0) (2019-09-02)


### Bug Fixes

* **saveFiles:** shouldReplaceName, remove fatal error ([9409620](https://github.com/cozy/cozy-konnector-libs/commit/9409620)), closes [#569](https://github.com/cozy/cozy-konnector-libs/issues/569)
* unit can work with node 12 and node 8 like this ([6576300](https://github.com/cozy/cozy-konnector-libs/commit/6576300))
* unit tests can work with node 12 and node 8 like this ([#572](https://github.com/cozy/cozy-konnector-libs/issues/572)) ([9cfad3b](https://github.com/cozy/cozy-konnector-libs/commit/9cfad3b))


### Features

* Add notifySuccessfulLogin and deactivateAutoSuccessfulLogin methods ([bf9f2c7](https://github.com/cozy/cozy-konnector-libs/commit/bf9f2c7))
* deactivateAutoSuccessfulLogin does nothing after 1st call ([267b228](https://github.com/cozy/cozy-konnector-libs/commit/267b228))





## [4.24.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.24.0...cozy-konnector-libs@4.24.2) (2019-08-27)


### Bug Fixes

* bug if file with already an id detection ([abbf76f](https://github.com/cozy/cozy-konnector-libs/commit/abbf76f))
* give proper fields to the fetch function even when no destination folder is defined ([c6f4ce7](https://github.com/cozy/cozy-konnector-libs/commit/c6f4ce7))
* **saveFiles:** better criterias for files updates in metadata d… ([#567](https://github.com/cozy/cozy-konnector-libs/issues/567)) ([85f1fb9](https://github.com/cozy/cozy-konnector-libs/commit/85f1fb9))
* **saveFiles:** better criterias for files updates in metadata deduplication ([6bf9070](https://github.com/cozy/cozy-konnector-libs/commit/6bf9070))





## [4.24.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.24.0...cozy-konnector-libs@4.24.1) (2019-08-27)


### Bug Fixes

* bug if file with already an id detection ([abbf76f](https://github.com/cozy/cozy-konnector-libs/commit/abbf76f))
* give proper fields to the fetch function even when no destination folder is defined ([c6f4ce7](https://github.com/cozy/cozy-konnector-libs/commit/c6f4ce7))
* **saveFiles:** better criterias for files updates in metadata d… ([#567](https://github.com/cozy/cozy-konnector-libs/issues/567)) ([85f1fb9](https://github.com/cozy/cozy-konnector-libs/commit/85f1fb9))
* **saveFiles:** better criterias for files updates in metadata deduplication ([6bf9070](https://github.com/cozy/cozy-konnector-libs/commit/6bf9070))





# [4.24.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.23.0...cozy-konnector-libs@4.24.0) (2019-08-26)


### Bug Fixes

* update old files with new metadata ([c8df05f](https://github.com/cozy/cozy-konnector-libs/commit/c8df05f))


### Features

* do not use compiled version of cozy-client anymore ([bdf0ec8](https://github.com/cozy/cozy-konnector-libs/commit/bdf0ec8))
* Use JSDoc to document params ([28db3f9](https://github.com/cozy/cozy-konnector-libs/commit/28db3f9))





# [4.23.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.22.1...cozy-konnector-libs@4.23.0) (2019-08-23)


### Bug Fixes

* **deps:** update dependency cozy-logger to v1.5.1 ([a927747](https://github.com/cozy/cozy-konnector-libs/commit/a927747))
* **deps:** update dependency cozy-logger to v1.5.1 ([#561](https://github.com/cozy/cozy-konnector-libs/issues/561)) ([2216d07](https://github.com/cozy/cozy-konnector-libs/commit/2216d07))


### Features

* add metadata deduplication ([1f6d8b5](https://github.com/cozy/cozy-konnector-libs/commit/1f6d8b5))
* Add README to toc ([6722ff4](https://github.com/cozy/cozy-konnector-libs/commit/6722ff4))
* rename filePrimaryKeys to fileIdAttributes ([2a80db8](https://github.com/cozy/cozy-konnector-libs/commit/2a80db8))
* sort filePrimaryKeys ([e8109a0](https://github.com/cozy/cozy-konnector-libs/commit/e8109a0))





## [4.22.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.22.0...cozy-konnector-libs@4.22.1) (2019-08-21)


### Bug Fixes

* force cozy-logger until format error is solved ([420af5c](https://github.com/cozy/cozy-konnector-libs/commit/420af5c))





# [4.22.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.21.1...cozy-konnector-libs@4.22.0) (2019-08-20)


### Features

* use cozy-libs renovate rule ([a316259](https://github.com/cozy/cozy-konnector-libs/commit/a316259))
* **solveCaptcha:** add warning message detail about captcha creation task failure ([cc6e8fa](https://github.com/cozy/cozy-konnector-libs/commit/cc6e8fa))
* use cozy-libs renovate rule ([#554](https://github.com/cozy/cozy-konnector-libs/issues/554)) ([4082fff](https://github.com/cozy/cozy-konnector-libs/commit/4082fff))





## [4.21.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.21.0...cozy-konnector-libs@4.21.1) (2019-08-20)


### Bug Fixes

* **deps:** update dependency file-type to v12.2.0 ([7c509c5](https://github.com/cozy/cozy-konnector-libs/commit/7c509c5))
* Cookie connector init function signature ([c37b8bc](https://github.com/cozy/cozy-konnector-libs/commit/c37b8bc))
* Cookie connector init function signature ([#553](https://github.com/cozy/cozy-konnector-libs/issues/553)) ([b43da29](https://github.com/cozy/cozy-konnector-libs/commit/b43da29))





# [4.21.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.19.3...cozy-konnector-libs@4.21.0) (2019-08-20)


### Bug Fixes

* get account id in dev mode ([adac9f9](https://github.com/cozy/cozy-konnector-libs/commit/adac9f9))
* get account id in dev mode ([#549](https://github.com/cozy/cozy-konnector-libs/issues/549)) ([1c72876](https://github.com/cozy/cozy-konnector-libs/commit/1c72876))
* **cozyclient:** adapt the token to work in dev and production modes ([a723cc4](https://github.com/cozy/cozy-konnector-libs/commit/a723cc4))
* **deps:** update dependency cozy-client to v6.58.0 ([5d741af](https://github.com/cozy/cozy-konnector-libs/commit/5d741af))
* **deps:** update dependency cozy-client to v6.58.0 ([#550](https://github.com/cozy/cozy-konnector-libs/issues/550)) ([3c603aa](https://github.com/cozy/cozy-konnector-libs/commit/3c603aa))
* **deps:** update dependency cozy-doctypes to v1.62.0 ([0de49fe](https://github.com/cozy/cozy-konnector-libs/commit/0de49fe))
* **deps:** update dependency cozy-doctypes to v1.62.0 ([#548](https://github.com/cozy/cozy-konnector-libs/issues/548)) ([fca31ba](https://github.com/cozy/cozy-konnector-libs/commit/fca31ba))


### Features

* **solveCaptcha:** handle recaptcha v3 ([6c01f35](https://github.com/cozy/cozy-konnector-libs/commit/6c01f35))
* **solveCaptcha:** handle recaptcha v3 ([#546](https://github.com/cozy/cozy-konnector-libs/issues/546)) ([c41c0f9](https://github.com/cozy/cozy-konnector-libs/commit/c41c0f9))





# [4.20.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.19.3...cozy-konnector-libs@4.20.0) (2019-08-20)


### Bug Fixes

* get account id in dev mode ([adac9f9](https://github.com/cozy/cozy-konnector-libs/commit/adac9f9))
* get account id in dev mode ([#549](https://github.com/cozy/cozy-konnector-libs/issues/549)) ([1c72876](https://github.com/cozy/cozy-konnector-libs/commit/1c72876))
* **cozyclient:** adapt the token to work in dev and production modes ([a723cc4](https://github.com/cozy/cozy-konnector-libs/commit/a723cc4))
* **deps:** update dependency cozy-client to v6.58.0 ([5d741af](https://github.com/cozy/cozy-konnector-libs/commit/5d741af))
* **deps:** update dependency cozy-client to v6.58.0 ([#550](https://github.com/cozy/cozy-konnector-libs/issues/550)) ([3c603aa](https://github.com/cozy/cozy-konnector-libs/commit/3c603aa))
* **deps:** update dependency cozy-doctypes to v1.62.0 ([0de49fe](https://github.com/cozy/cozy-konnector-libs/commit/0de49fe))
* **deps:** update dependency cozy-doctypes to v1.62.0 ([#548](https://github.com/cozy/cozy-konnector-libs/issues/548)) ([fca31ba](https://github.com/cozy/cozy-konnector-libs/commit/fca31ba))


### Features

* **solveCaptcha:** handle recaptcha v3 ([6c01f35](https://github.com/cozy/cozy-konnector-libs/commit/6c01f35))
* **solveCaptcha:** handle recaptcha v3 ([#546](https://github.com/cozy/cozy-konnector-libs/issues/546)) ([c41c0f9](https://github.com/cozy/cozy-konnector-libs/commit/c41c0f9))





## [4.19.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.19.2...cozy-konnector-libs@4.19.3) (2019-08-14)


### Bug Fixes

* better cozy-client-js-stub for complex queries ([648aed5](https://github.com/cozy/cozy-konnector-libs/commit/648aed5))
* initalization of new cozy-client instance ([c8833f0](https://github.com/cozy/cozy-konnector-libs/commit/c8833f0))
* initalization of new cozy-client instance ([#543](https://github.com/cozy/cozy-konnector-libs/issues/543)) ([9d127bf](https://github.com/cozy/cozy-konnector-libs/commit/9d127bf))





## [4.19.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.19.1...cozy-konnector-libs@4.19.2) (2019-08-13)


### Bug Fixes

* use compiled version of cozy-doctypes ([06da027](https://github.com/cozy/cozy-konnector-libs/commit/06da027))





## [4.19.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.19.0...cozy-konnector-libs@4.19.1) (2019-08-13)

**Note:** Version bump only for package cozy-konnector-libs





# [4.19.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.7...cozy-konnector-libs@4.19.0) (2019-08-13)


### Bug Fixes

* add react to fix unit tests ([ea6a4b2](https://github.com/cozy/cozy-konnector-libs/commit/ea6a4b2))


### Features

* add cozy metadata in cozy-client init ([798cd55](https://github.com/cozy/cozy-konnector-libs/commit/798cd55))
* init a new cozy-client instance and make it available in cozy-konnector-libs ([a384229](https://github.com/cozy/cozy-konnector-libs/commit/a384229))





## [4.18.7](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.6...cozy-konnector-libs@4.18.7) (2019-08-09)


### Bug Fixes

* new cozy-logger breaks libs ([b0d7fec](https://github.com/cozy/cozy-konnector-libs/commit/b0d7fec))





## [4.18.6](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.5...cozy-konnector-libs@4.18.6) (2019-08-02)


### Bug Fixes

* **deps:** update dependency cozy-doctypes to v1.58.0 ([240219d](https://github.com/cozy/cozy-konnector-libs/commit/240219d))





## [4.18.5](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.4...cozy-konnector-libs@4.18.5) (2019-07-30)

**Note:** Version bump only for package cozy-konnector-libs





## [4.18.4](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.3...cozy-konnector-libs@4.18.4) (2019-07-29)


### Bug Fixes

* bad module.exports change caused unit tests to fail ([2d2347b](https://github.com/cozy/cozy-konnector-libs/commit/2d2347b))
* update cozy-doctypes with cozy-client as peerDependency ([a17d1e6](https://github.com/cozy/cozy-konnector-libs/commit/a17d1e6))
* update cozy-doctypes with cozy-client as peerDependency ([#528](https://github.com/cozy/cozy-konnector-libs/issues/528)) ([79e5e87](https://github.com/cozy/cozy-konnector-libs/commit/79e5e87))
* **deps:** update dependency cozy-doctypes to v1.57.1 ([db7b333](https://github.com/cozy/cozy-konnector-libs/commit/db7b333))
* **deps:** update dependency file-type to v12.1.0 ([6af6cb8](https://github.com/cozy/cozy-konnector-libs/commit/6af6cb8))
* **deps:** update dependency file-type to v12.1.0 ([#527](https://github.com/cozy/cozy-konnector-libs/issues/527)) ([756d85a](https://github.com/cozy/cozy-konnector-libs/commit/756d85a))





## [4.18.3](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.2...cozy-konnector-libs@4.18.3) (2019-07-22)


### Bug Fixes

* **deps:** update dependency file-type to v12 ([591d122](https://github.com/cozy/cozy-konnector-libs/commit/591d122))
* **deps:** update dependency file-type to v12 ([#496](https://github.com/cozy/cozy-konnector-libs/issues/496)) ([80886bc](https://github.com/cozy/cozy-konnector-libs/commit/80886bc))
* **deps:** update dependency pdfjs-dist to v2.1.266 ([6ff6f34](https://github.com/cozy/cozy-konnector-libs/commit/6ff6f34))
* **deps:** update dependency pdfjs-dist to v2.1.266 ([#514](https://github.com/cozy/cozy-konnector-libs/issues/514)) ([a1b4e2e](https://github.com/cozy/cozy-konnector-libs/commit/a1b4e2e))





## [4.18.2](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.1...cozy-konnector-libs@4.18.2) (2019-07-19)


### Bug Fixes

* do not try do download a file there is an error in shouldreplace ([5062adf](https://github.com/cozy/cozy-konnector-libs/commit/5062adf))
* Fix Tls test on chained self signed cert ([f5a47e5](https://github.com/cozy/cozy-konnector-libs/commit/f5a47e5))
* last cozy-doctypes make the tests fail ([e1fa77d](https://github.com/cozy/cozy-konnector-libs/commit/e1fa77d))
* remove console.log ([120fc77](https://github.com/cozy/cozy-konnector-libs/commit/120fc77))





## [4.18.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.18.0...cozy-konnector-libs@4.18.1) (2019-07-08)

**Note:** Version bump only for package cozy-konnector-libs





# [4.18.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.17.1...cozy-konnector-libs@4.18.0) (2019-06-27)


### Bug Fixes

* cut critical error messages to 32Ko to make their JSON version readable by the stack ([6595639](https://github.com/cozy/cozy-konnector-libs/commit/6595639))
* **deps:** update dependency raw-body to v2.4.1 ([39320b9](https://github.com/cozy/cozy-konnector-libs/commit/39320b9))


### Features

* replace files if we have metadata to add ([c1b0317](https://github.com/cozy/cozy-konnector-libs/commit/c1b0317))
* **saveFiles:** add io.cozy.files data in importedData.json fil… ([#511](https://github.com/cozy/cozy-konnector-libs/issues/511)) ([c2c1fb4](https://github.com/cozy/cozy-konnector-libs/commit/c2c1fb4))
* **saveFiles:** add io.cozy.files data in importedData.json file when in standalone mode ([dcbf23d](https://github.com/cozy/cozy-konnector-libs/commit/dcbf23d))
* replace files if we have metadata to add ([#513](https://github.com/cozy/cozy-konnector-libs/issues/513)) ([35eb9d9](https://github.com/cozy/cozy-konnector-libs/commit/35eb9d9))





## [4.17.1](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.17.0...cozy-konnector-libs@4.17.1) (2019-06-25)


### Bug Fixes

* remove identity log ([916a436](https://github.com/cozy/cozy-konnector-libs/commit/916a436))
* updateOrCreate:  do not change createAt metadata on update ([f420afb](https://github.com/cozy/cozy-konnector-libs/commit/f420afb))





# [4.17.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.16.0...cozy-konnector-libs@4.17.0) (2019-06-20)


### Bug Fixes

* Fix formating in saveIdentity for phone and address ([5269665](https://github.com/cozy/cozy-konnector-libs/commit/5269665))
* Fix formating in saveIdentity for phone and address ([#501](https://github.com/cozy/cozy-konnector-libs/issues/501)) ([2edb984](https://github.com/cozy/cozy-konnector-libs/commit/2edb984))


### Features

* add cozyMetadata feature to saveFiles ([dfa70ee](https://github.com/cozy/cozy-konnector-libs/commit/dfa70ee))
* add saveIdentity and updateOrCreate as BaseKonnector methods ([3acef7e](https://github.com/cozy/cozy-konnector-libs/commit/3acef7e))
* saveIdentity: move metadata handling to updateOrCreate ([d237474](https://github.com/cozy/cozy-konnector-libs/commit/d237474))





# [4.16.0](https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.15.17...cozy-konnector-libs@4.16.0) (2019-06-14)


### Features

* Add saveIdentity in cozy-konnector-libs ([d1078cb](https://github.com/cozy/cozy-konnector-libs/commit/d1078cb))
* Add saveIdentity in cozy-konnector-libs ([#497](https://github.com/cozy/cozy-konnector-libs/issues/497)) ([6cf6f35](https://github.com/cozy/cozy-konnector-libs/commit/6cf6f35))





# Changelog

## [Unreleased]

### Changed
- none yet

### Fixed
- none yet

### Added
- none yet

## cozy-jobs-cli@1.0.17, cozy-konnector-libs@4.1.7, cozy-logger@1.1.4 (2018-04-17)

#### :bug: Bug Fix
* `cozy-logger`
  * [#202](https://github.com/konnectors/libs/pull/202) fix: cannot assign from error to object. ([@ptbrowne](https://github.com/ptbrowne))

#### Committers: 1
- Patrick Browne ([ptbrowne](https://github.com/ptbrowne))

## cozy-konnector-libs@4.1.6 (2018-04-17)

#### :rocket: Enhancement
* `cozy-konnector-libs`
  * [#200](https://github.com/konnectors/libs/pull/200) fix: formatting of error is done in cozy-logger. ([@ptbrowne](https://github.com/ptbrowne))

## cozy-konnector-libs@4.1.2 (2018-04-10)

#### :bug: Bug Fix
* `cozy-konnector-libs`
  * [#180](https://github.com/konnectors/libs/pull/180) 🐝 fix: use target node 8 to remove the need for regeneratorRuntime. ([@ptbrowne](https://github.com/ptbrowne))


## [4.1.0] (2018-04-09)

#### :rocket: Enhancement
* Other
  * [#178](https://github.com/konnectors/libs/pull/178) ✨ feat: add lerna changelog. ([@ptbrowne](https://github.com/ptbrowne))
* `cozy-logger`
  * [#177](https://github.com/konnectors/libs/pull/177) feat: if message is an object, its properties are assigned to the log. ([@ptbrowne](https://github.com/ptbrowne))

#### :bug: Bug Fix
* `cozy-jobs-cli`
  * [#172](https://github.com/konnectors/libs/pull/172) fix: yarn dev now works without defining the file source. ([@doubleface](https://github.com/doubleface))

## [4.0.0] - 2018-04-06

### Changed

- `cozy-konnector-libs` : Changed linking mechanism to in-memory
- `cozy-konnector-libs`: `updateOrCreate` is no longer deprecated.
- `cozy-konnector-libs`: transpiled sources are shipped on npm

## [3.8.1] - 2018-03-29

### Fixed

- `cozy-konnector-libs` No longer has bin in package.json. Moved to cozy-konnector-libs.

## [3.8.0] - 2018-03-27

### Added
- `cozy-konnector-libs`: `signin` helper. Should make sign in process to websites easier [#138](https://github.com/cozy/cozy-konnector-libs/pull/138). Big thank you to @carrieje :+1: !
- `cozy-konnector-libs`: banking operation categorized as "health insurance" can be considered for linking with an health bill if its amount is greater than 0 (previously only operation categorized as "health expenses" were considered for linking)
- `cozy-konnector-libs`: bill matching logs are tinier
- `cozy-jobs-cli`: allow to parse an HTML file from the shell

## [3.7.0] - 2018-03-13

- Update cozy-client-js
- Use lerna

## [3.6.0] - 2018-03-12

### Added

- `scrape` function.

## [3.5.3] - 2018-03-08

### Added

- Document class
- saveFiles handles filestreams (Thanks [Jérémie](https://github.com/laedit) !)
- `fetch` function return value is checked to be a Promise

## [3.5.2] - 2018-02-28

### Fixed
- Banking operations cannot have reimbursements total amount be higher than their amount

## [3.5.1] - 2018-02-21

### Fixed

- Default log level is not "debug" instead of "info". The stack filters out
debug logs but "info" are kept.

### Added

- `shouldSave` and `shouldUpdate` functions  can be passed to hydrateAndFilter. It allows for finer grained control over what is saved/updated.

### Deprecated

- `updateOrCreate` is now deprecated. Prefer to use `shouldSave`/`shouldUpdate`.

## [3.3.0] - 2018-01-23

### Added
- Automatic exception handling via Sentry if `process.env.SENTRY_DSN` is set

### Fixed
- Correct status codes are used when exiting from an error
- Yarn dev

## [3.2.4] - 2018-01-23
### Changed
- Fixed linking of health bills to their credit operation when no debit operation found

## [3.2.4] - 2018-01-22
### Changed
- Fixed linking of health bills to operations
- More details when an error message is caught by the BaseKonnector

## [3.2.3] - 2018-01-19
### Changed
- Now by default, mathing bill operation check the range date with - 15 days + 29 days


## [3.2.1] - 2018-01-18
### Fixed
- Remove spread es6 syntax


## [3.2.0] - 2018-01-18
### Changed
- Refactoring of bills and transactions association

### Fixed
- operation.reimbursements can't have same reimbursement


## [3.1.6] - 2018-01-17
### Fixed
- Linking with bank operations also works on first run


## [3.1.5] - 2018-01-10
### Fixed
- Linking with bank operations now works even if the bill has already been fetched

## Details

The format is based on [Keep a Changelog](http://keepachangelog.com/)
and this project adheres to [Semantic Versioning](http://semver.org/).

[Unreleased]: https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.1.0...HEAD
[4.1.0]: https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@4.0.0...4.1.0
[4.0.0]: https://github.com/cozy/cozy-konnector-libs/compare/cozy-konnector-libs@3.8.2...cozy-konnector-libs@4.0.0
[3.8.2]: https://github.com/cozy/cozy-konnector-libs/compare/v3.8.1...v3.8.2
[3.8.1]: https://github.com/cozy/cozy-konnector-libs/compare/v3.8.0...v3.8.1
[3.8.0]: https://github.com/cozy/cozy-konnector-libs/compare/v3.7.0...v3.8.0
[3.7.0]: https://github.com/cozy/cozy-konnector-libs/compare/v3.6.0...v3.7.0
[3.6.0]: https://github.com/cozy/cozy-konnector-libs/compare/v3.5.3...v3.6.0
[3.5.3]: https://github.com/cozy/cozy-konnector-libs/compare/v3.5.2...v3.5.3
[3.5.2]: https://github.com/cozy/cozy-konnector-libs/compare/v3.5.1...v3.5.2
[3.5.1]: https://github.com/cozy/cozy-konnector-libs/compare/v3.3.0...v3.5.1
[3.3.0]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.5...v3.3.0
[3.2.5]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.4...v3.2.5
[3.2.4]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.3...v3.2.4
[3.2.3]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.2...v3.2.3
[3.2.2]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.1...v3.2.2
[3.2.1]: https://github.com/cozy/cozy-konnector-libs/compare/v3.2.0...v3.2.1
[3.2.0]: https://github.com/cozy/cozy-konnector-libs/compare/v3.1.6...v3.2.0
[3.1.6]: https://github.com/cozy/cozy-konnector-libs/compare/176b49b...v3.1.6
[3.1.5]: https://github.com/cozy/cozy-konnector-libs/compare/8b00eda...176b49b
